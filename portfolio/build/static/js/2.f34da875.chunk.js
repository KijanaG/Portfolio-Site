(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{235:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(250),l=a.n(o);t.a=function(){return r.a.createElement("div",{className:l.a.Loader},"Loading...")}},250:function(e,t,a){e.exports={Loader:"Spinner__Loader__1DDwY",load1:"Spinner__load1__3Y-9z"}},354:function(e,t,a){e.exports={WeatherCard:"WeatherComponent__WeatherCard__22IWH",DayTimeOverCast:"WeatherComponent__DayTimeOverCast__1RfZL",DayTime:"WeatherComponent__DayTime__3nKAx",NightOverCast:"WeatherComponent__NightOverCast__efsTR",NightTime:"WeatherComponent__NightTime__3Na_m",IMG:"WeatherComponent__IMG__1vowk",LongName:"WeatherComponent__LongName__3bh7-",FlipWeatherCard:"WeatherComponent__FlipWeatherCard__3_lVw",StaticWeatherCard:"WeatherComponent__StaticWeatherCard__2zwLQ",WeatherCardFront:"WeatherComponent__WeatherCardFront__OWRgk",WeatherCardBack:"WeatherComponent__WeatherCardBack__USFBG",drop:"WeatherComponent__drop__2jkyq",cloud:"WeatherComponent__cloud__6aCIS",animateCloud:"WeatherComponent__animateCloud__2VKun",cloud1:"WeatherComponent__cloud1__2rKml",animateCloud1:"WeatherComponent__animateCloud1__3urRM"}},356:function(e){e.exports={2:"11d",3:"09d",5:{0:"10d",1:"13d",2:"09d",3:"09d"},6:"13d",7:"50d",8:{0:{d:"01d",n:"01n"},1:{d:"02d",n:"02n"},2:"03d",3:"04d",4:"04d"}}},357:function(e,t,a){var n={"./01d.png":121,"./01n.png":122,"./02d.png":123,"./02n.png":124,"./03d.png":125,"./04d.png":126,"./09d.png":127,"./10d.png":128,"./10n.png":129,"./11d.png":130,"./13d.png":131,"./50d.png":132,"./US.png":117,"./code.png":133,"./globe.png":118,"./home.png":134,"./order.png":135,"./ready.png":136,"./search.png":119,"./twitter.png":116};function r(e){var t=o(e);return a(t)}function o(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=357},358:function(e,t,a){e.exports={WeatherCards:"WeatherApp__WeatherCards__1Cnfr",Both:"WeatherApp__Both__26W39",US:"WeatherApp__US__2LF9S",Globe:"WeatherApp__Globe__3wlQd",USA:"WeatherApp__USA__1oVeZ",ModalPrompt:"WeatherApp__ModalPrompt__1YrJ-",Deny:"WeatherApp__Deny__1iprJ",FAB:"WeatherApp__FAB__10f63",pulse:"WeatherApp__pulse__2aCUQ",Search:"WeatherApp__Search__30HKO"}},360:function(e,t,a){e.exports={Modal:"Modal__Modal__32_-a"}},362:function(e,t,a){e.exports={Backdrop:"Backdrop__Backdrop__efy1y"}},447:function(e,t,a){e.exports={Nav:"WorldMap__Nav__3kmZb",Trends:"WorldMap__Trends__15h3f",TweetTrends:"WorldMap__TweetTrends__2raDf",Trend:"WorldMap__Trend__DoCXL",Tweets:"WorldMap__Tweets__2WoFL",Embed:"WorldMap__Embed__2071e",PopUp:"WorldMap__PopUp__3rQvi",Twitter:"WorldMap__Twitter__2Frcx"}},453:function(e,t,a){e.exports={Tweet:"TwitterBird__Tweet__OApJU",pulsate:"TwitterBird__pulsate__c6ko-",Icon:"TwitterBird__Icon__3NhXP",pulse:"TwitterBird__pulse__30YAW",active:"TwitterBird__active__2P9Ph",size:"TwitterBird__size__WAv0W"}},507:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),o=a(15),l=a(14),i=a(16),c=a(0),s=a.n(c),u=a(17),d=a(354),h=a.n(d),p=a(356),m=function(e){var t,n=e.metric,r=function(){var t=new Date,a=t.getUTCHours();e.current&&(e.current<0?(a+=24,a+=e.current):a+=e.current,a%=24);var r,o=t.getUTCMinutes();a-Math.floor(a)>0&&(o+=60*(a-Math.floor(a)))>60&&(a=Math.floor(a)+1,o%=60),24===a&&(a=0),1===o.toString().length&&(o="0"+o),"London"===e.data.name?a=(a+1)%24:"Barcelona"===e.data.name?a=(a+2)%24:"Sydney"===e.data.name?a=(a+10)%24:"Tokyo"===e.data.name?a=(a+9)%24:"Seattle"===e.data.name&&(a=(a+17)%24);var l="AM";return n?r=a+":"+o:(a>11&&a<24&&(a=[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][a],l="PM"),0===a&&(a=12),r=a+":"+o+" "+l),r}(),o=Math.round((new Date).getTime()/1e3);t=o>e.data.sys.sunrise&&o<e.data.sys.sunset||o>e.data.sys.sunrise+86400&&o<e.data.sys.sunset+86400||o<e.data.sys.sunset-86400&&o>e.data.sys.sunrise-86400;var l=Math.round(e.data.main.temp-273.15);n||(l=Math.round(1.8*l+32));var i=e.data.wind.speed.toFixed(1);n||(i=(2.23694*e.data.wind.speed).toFixed(1));for(var c=e.data.weather,u=c[0].id,d=0,m=0;m<c.length;m++)c[m].id<u&&(d=m,u=c[m].id);var _="",y=!1,g=u.toString();"2"===g[0]||"3"===g[0]||"6"===g[0]||"7"===g[0]?(_=p[g[0]],y=!0):"5"===g[0]?(_=p[5][g[1]],y=!0):"2"===g[1]||"3"===g[1]||"4"===g[1]?(_=p[8][g[1]],y=!0):_="0"===g[1]?t?p[8][0].d:p[8][0].n:t?p[8][1].d:p[8][1].n;var f="",w="";(f=1===c.length?c[0].description:2===c.length?c[0].description+" & "+c[1].description:c[d].description).includes("rain")&&(w=[8,23,36,47,59,77,90,107,122,144].map(function(e){return s.a.createElement("div",{key:e,className:h.a.drop,style:{right:e+"px",animationDelay:e%.4+"s",height:e%9+23+"px"}})}));var v=[h.a.WeatherCard],k=[h.a.cloud,h.a.cloud1],b=null;return t?y?(v.push(h.a.DayTimeOverCast),b=k.map(function(e){return s.a.createElement("div",{key:e,className:e})})):v.push(h.a.DayTime):y?(v.push(h.a.NightOverCast),b=k.map(function(e){return s.a.createElement("div",{key:e,className:e})})):v.push(h.a.NightTime),s.a.createElement("div",{className:v.join(" ")},s.a.createElement("div",{className:h.a.FlipWeatherCard},s.a.createElement("div",{className:h.a.WeatherCardFront},w,b,e.data.name.length<11?s.a.createElement("h1",null,e.data.name):s.a.createElement("h1",{className:h.a.LongName},e.data.name),s.a.createElement("img",{className:h.a.IMG,src:a(357)("./"+_+".png"),alt:"thunder"}),f.length<=16?s.a.createElement("h3",null,f):f.length>=40?s.a.createElement("h6",null,f):s.a.createElement("h5",null,f),s.a.createElement("h2",null,l,s.a.createElement("span",{style:{textDecoration:"none"}},"\u02da")),s.a.createElement("h4",null,i,n?" m/s":" mph")),s.a.createElement("div",{className:h.a.WeatherCardBack},s.a.createElement("h1",null,r))))},_=a(9),y=a.n(_),g=a(358),f=a.n(g),w=a(235),v=a(364),k=a.n(v),b=a(360),E=a.n(b),C=a(362),T=a.n(C),D=function(e){return e.show?s.a.createElement("div",{className:T.a.Backdrop,onClick:e.clicked}):null},O=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(D,{show:this.props.show,clicked:this.props.modalClosed}),s.a.createElement("div",{className:E.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(c.Component),W=function(e,t){return function(a){function c(){var e,t;Object(n.a)(this,c);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(l.a)(c)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(i.a)(c,a),Object(r.a)(c,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null}),t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),s.a.createElement(e,this.props))}}]),c}(c.Component)},j=a(22),S=null,L=null,M=null,N=null,x=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={weatherData:!1,locationData:!1,anyLocationData:!1,checked:!0,timer:!1,getCurrent:!1,showButton:!0,input:"",loading:!1,anyLocationLoading:!1},a.changeSwitchHandler=function(){var e=a.state.checked;a.setState({checked:!e})},a.getLocationHandler=function(){a.props.onLocationHandler(),a.setState({loading:!0}),S=setTimeout(function(){a.changeModal();var e=a.state.showButton;a.setState({locationData:!0,loading:!1,showButton:!e})},2e3)},a.getInput=function(e){"Enter"===e.key&&a.searchInputCity()},a.searchInputCity=function(){a.props.onAnyLocationHandler(a.state.input),a.setState({anyLocationLoading:!0}),L=setTimeout(function(){a.setState({anyLocationData:!0,anyLocationLoading:!1})},1900)},a.updateStateHandler=function(e){a.setState({input:e.target.value})},a.changeModal=function(){var e=a.state.getCurrent;a.setState({getCurrent:!e})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;M=setTimeout(function(){e.setState({weatherData:!0})},2200),N=setInterval(function(){var t=e.state.timer;e.setState({timer:!t})},45e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(S),clearTimeout(L),clearTimeout(M),clearInterval(N)}},{key:"render",value:function(){var e,t=this;e=this.state.weatherData?this.props.worldData.map(function(e){return s.a.createElement(m,{metric:t.state.checked,key:Object.keys(e)[0],data:e[Object.keys(e)[0]]})}):s.a.createElement(w.a,null);var n=null;this.state.locationData&&!this.props.locationError&&(n=s.a.createElement(m,{GMTPlus:this.props.currentGMT,current:this.props.currentTime,metric:this.state.checked,key:Object.keys(this.props.currentLocation)[0],data:this.props.currentLocation[Object.keys(this.props.currentLocation)[0]]}));var r=null;this.state.anyLocationLoading?r=s.a.createElement(w.a,null):this.state.anyLocationData&&!this.props.anyError&&(r=s.a.createElement(m,{GMTPlus:this.props.anyGMT,current:this.props.anyTime,metric:this.state.checked,key:Object.keys(this.props.anyLocation)[0],data:this.props.anyLocation[Object.keys(this.props.anyLocation)[0]]}));var o=s.a.createElement(O,{show:this.state.getCurrent,modalClosed:function(){return t.changeModal()}},s.a.createElement("h1",null,"Get Weather Data for ",s.a.createElement("span",null,"your")," current location"),s.a.createElement("button",{className:f.a.ModalPrompt,onClick:function(){return t.getLocationHandler()}}," Yes "),s.a.createElement("button",{className:[f.a.ModalPrompt,f.a.Deny].join(" "),onClick:function(){return t.changeModal()}}," No "));this.state.loading&&(o=s.a.createElement(O,{show:this.state.getCurrent,modalClosed:function(){return t.changeModal()}},s.a.createElement(w.a,null)));var l="";this.state.checked||(l=f.a.USA);var i={backgroundImage:"url("+a(119)+")"};return s.a.createElement("div",{className:f.a.WeatherCards},o,s.a.createElement("h1",{style:{fontFamily:"Georgia",letterSpacing:"0.2em",fontWeight:"bold"}}," OpenWeatherMap API "),s.a.createElement(k.a,{checked:this.state.checked,color:"default",icon:s.a.createElement("img",{className:f.a.Both,onClick:function(){return t.changeSwitchHandler()},src:a(117),alt:"US"}),checkedIcon:s.a.createElement("img",{className:f.a.Both,onClick:function(){return t.changeSwitchHandler()},src:a(118),alt:"International"})}),this.state.showButton?s.a.createElement("button",{className:[f.a.FAB,l].join(" "),onClick:function(){return t.changeModal()}}):null,s.a.createElement("hr",null),e,n,r,s.a.createElement("hr",null),s.a.createElement("h1",{style:{fontFamily:"Georgia",letterSpacing:"0.2em",fontWeight:"bold",marginTop:"15px"}},"| Check Another City |"),s.a.createElement("input",{type:"text",placeholder:"Rancho Santa Margarita, California",style:i,onKeyPress:this.getInput,value:this.state.input,onChange:function(e){return t.updateStateHandler(e)}}),s.a.createElement("button",{onClick:this.searchInputCity,style:{all:"none",width:"60px",height:"30px",borderRadius:"10px",position:"relative",top:"0px",background:"#317FE5",textDecoration:"none",display:"inline-block",color:"white",cursor:"pointer",textAlign:"center",fontWeight:"bold"}},"Search"),s.a.createElement("hr",null))}}]),t}(c.Component),A=Object(u.b)(function(e){return{worldData:e.worldData.weatherData,currentLocation:e.worldData.currentLocation,currentTime:e.worldData.currentTime,currentGMT:e.worldData.currentGMT,locationError:e.worldData.locationError,anyLocation:e.worldData.anyLocation,anyTime:e.worldData.anyTime,anyGMT:e.worldData.anyGMT,anyError:e.worldData.anyError}},function(e){return{onLocationHandler:function(){return e(j.d())},onAnyLocationHandler:function(t){return e(j.c(t))}}})(W(x,y.a)),F=a(447),B=a.n(F),I=a(504),U=a(453),G=a.n(U),P=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:G.a.Icon},s.a.createElement("img",{className:G.a.Tweet,src:a(116),alt:"twitter"})))},H=a(455),z=a(10),q=null,R=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={viewport:{latitude:37.7577,longitude:-50.4376,zoom:1.8,bearing:0,width:"100",height:500,pitch:15},trends:"",twitterData:[],lat:"",long:"",tweetData:[],cannotFind:!1,loading:!1},a.getTweets=function(e,t,n){var r="Current Trends in "+n;a.setState({trends:r,lat:e,long:t}),y()({url:"/api/getTrends",method:"POST",baseURL:z.prod,data:{lat:e,long:t}}).then(function(e){a.setState({twitterData:e.data,tweetData:[]})}).catch(function(e){console.log("Error: ",e)})},a.listTweetTrend=function(e){a.setState({loading:!0,tweetData:[]}),y()({url:"/api/getTweets",method:"POST",baseURL:z.prod,data:{name:e,lat:a.state.lat,long:a.state.long}}).then(function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var l,i=e.data[Symbol.iterator]();!(n=(l=i.next()).done);n=!0){var c=l.value;t.push(c.id_str)}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}0===t.length?a.setState({tweetData:[],cannotFind:!0,loading:!1}):a.setState({tweetData:t,cannotFind:!1,loading:!1})}).catch(function(e){console.log(e)})},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;q=setTimeout(function(){var t=e.state.viewport;t.zoom=1.6,e.setState({viewport:t})},3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(q)}},{key:"render",value:function(){var e=this,t=null;this.props.weatherData.length>0&&(t=this.props.weatherData.map(function(t){return s.a.createElement("div",{key:Object.keys(t)[0],className:B.a.Nav,onClick:function(){e.getTweets(t[Object.keys(t)[0]].coord.lat,t[Object.keys(t)[0]].coord.lon,Object.keys(t)[0])}},s.a.createElement(I.a,{longitude:t[Object.keys(t)[0]].coord.lon,latitude:t[Object.keys(t)[0]].coord.lat},s.a.createElement(P,null)))}));var n=null;if(this.props.currentLocation){var r=this.props.currentLocation;n=s.a.createElement("div",{key:Object.keys(r)[0],className:B.a.Nav,onClick:function(){e.getTweets(r[Object.keys(r)[0]].coord.lat,r[Object.keys(r)[0]].coord.lon,Object.keys(r)[0])}},s.a.createElement(I.a,{longitude:r[Object.keys(r)[0]].coord.lon,latitude:r[Object.keys(r)[0]].coord.lat},s.a.createElement(P,null)))}var o=null;if(this.props.anyLocation){var l=this.props.anyLocation;o=s.a.createElement("div",{key:Object.keys(l)[0],className:B.a.Nav,onClick:function(){e.getTweets(l[Object.keys(l)[0]].coord.lat,l[Object.keys(l)[0]].coord.lon,Object.keys(l)[0])}},s.a.createElement(I.a,{longitude:l[Object.keys(l)[0]].coord.lon,latitude:l[Object.keys(l)[0]].coord.lat},s.a.createElement(P,null)))}var i=null;this.state.twitterData.length>0&&(i={display:"block"});var c=null;this.state.tweetData.length>0?c={display:"block",height:"600px"}:(this.state.cannotFind||this.state.loading)&&(c={display:"block",height:"200px"});var u=null;return this.state.loading?u=s.a.createElement(w.a,null):this.state.tweetData.length>0?u=this.state.tweetData.map(function(e){return s.a.createElement(H.a,{className:B.a.Embed,key:e,tweetId:e})}):this.state.cannotFind&&(u=s.a.createElement("h1",null,"Sorry! Cannot find tweets for this trend.")),s.a.createElement("div",{style:{padding:"20px auto 40px auto"}},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("h1",{style:{fontFamily:"Georgia",letterSpacing:"0.2em",fontWeight:"bold",fontSize:24,marginTop:10}}," Twitter Trends & Feeds By Location ")),s.a.createElement("div",{className:B.a.PopUp,style:i},s.a.createElement("h2",{className:B.a.Trends},this.state.trends),s.a.createElement("hr",null),s.a.createElement("div",{className:B.a.TweetTrends},this.state.twitterData.length>0?this.state.twitterData.map(function(t){return s.a.createElement("div",{key:t.url,onClick:function(){return e.listTweetTrend(t.name)}},s.a.createElement("h5",{className:B.a.Trend},t.name),"\xa0\xa0",s.a.createElement("img",{onClick:function(){return window.open(t.url,"_blank")},src:a(116),alt:"twitter",style:{width:"20px",height:"20px",display:"inline-block"}}),s.a.createElement("hr",null))},this):null)),s.a.createElement("div",{className:B.a.Tweets,style:c},u),s.a.createElement(I.b,Object.assign({},this.state.viewport,{mapStyle:"mapbox://styles/kjgarrett/cjqt7xa890dlq2qpiyd9iflkb",mapboxApiAccessToken:z.MapGL,onViewportChange:function(t){return e.setState({viewport:t})}}),s.a.createElement("div",null,t,n,o)),s.a.createElement("br",null),s.a.createElement("br",null))}}]),t}(c.Component),Y=Object(u.b)(function(e){return{weatherData:e.worldData.weatherData,currentLocation:e.worldData.currentLocation,anyLocation:e.worldData.anyLocation}})(W(R,y.a)),J=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={cities:["Seattle","Barcelona","London","Tokyo","Sydney"]},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){if(this.props.changePhoto("montana.jpg"),0===this.props.weatherData.length){var e=!0,t=!1,a=void 0;try{for(var n,r=this.state.cities[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;this.props.onInitializeData(o)}}catch(l){t=!0,a=l}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(A,null),s.a.createElement(Y,null))}}]),t}(c.Component);t.default=Object(u.b)(function(e){return{weatherData:e.worldData.weatherData,backgroundImage:e.worldData.backgroundImage}},function(e){return{onInitializeData:function(t){return e(j.b(t))},changePhoto:function(t){return e(j.a(t))}}})(W(J,y.a))}}]);
//# sourceMappingURL=2.f34da875.chunk.js.map